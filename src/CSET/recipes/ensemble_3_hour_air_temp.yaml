steps:
  - operator: read.read_cubes
    filename_pattern: "*_em*.nc"
    constraint:
      operator: constraints.generate_stash_constraint
      stash: m01s03i236

  # - operator: aggregate.aggregate
  #   dimension: time
  #   method: mean
  #   interval: PT3H

  # - operator: aggregate.aggregate
  #   dimension: lat
  #   method: iris.analysis.weighted_mean
  #   interval: 0.5  # degrees

  # - operator: write.write_cube_to_nc
  #   # This is a magic value that becomes the runtime output file path.
  #   file_path: CSET_OUTPUT_PATH

  - operator: plot.postage_stamp_contour_plot
    file_path: CSET_OUTPUT_PATH

  # - operator: aggregate.aggregate
  #   dimension: realization
  #   method: iris.analysis.mean

  # - operator: plot.spatial_plot
  #   file_path: CSET_OUTPUT_PATH
